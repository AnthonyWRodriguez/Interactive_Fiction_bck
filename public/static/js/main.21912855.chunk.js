(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(32),s=a.n(r),c=(a(39),a(9)),l=a(10),i=a(12),u=a(11),m=a(8),h=a(2),d=a(19),p=a.n(d),g=a(4),f=(Object(g.a)(),p.a.create());f.defaults.headers.common["cache-control"]="no-cache",f.defaults.headers.post["Content-Type"]="no-cache",f.defaults.headers.put["Content-Type"]="no-cache";var b=f,y=p.a.create();y.defaults.headers.common["cache-control"]="no-cache",y.defaults.headers.post["Content-Type"]="no-cache",y.defaults.headers.put["Content-Type"]="no-cache";var v=y,j=function(){try{return localStorage.setItem("b","b"),localStorage.removeItem("b"),!0}catch(e){return!1}},E=function(e,t){return!!j()&&(localStorage.setItem(e,t),!0)},w=function(e){return j()?localStorage.getItem(e):null},A=function(e){return!!j()&&(localStorage.removeItem(e),!0)},k=function(e){return""!==e.auth.email||""!==e.auth.name?n.a.createElement(h.b,{render:function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.a.createElement(e.component,Object.assign({},a,{auth:e.auth}))},path:e.path,exact:!0}):n.a.createElement(h.a,{to:"/login"})},T=a(16),x=(a(17),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).onClickLogout=function(){o.props.auth.logout&&o.props.auth.logout()},o.state={},o}return Object(l.a)(a,[{key:"render",value:function(){return""===this.props.auth.email?n.a.createElement("header",{className:"d-flex bg-dark align-items-center"},n.a.createElement(m.b,{to:"/",className:"col-sm-11 p-2 text-danger"},n.a.createElement("h1",null,"Adventure!")),n.a.createElement(m.b,{to:"/login",className:"col-sm-1 align-items-ccenter"},n.a.createElement("h4",null,"Login",n.a.createElement(T.a,null)))):n.a.createElement("header",{className:"d-flex bg-dark align-items-center"},n.a.createElement(m.b,{to:"/",className:"col-sm-10 p-2 text-danger"},n.a.createElement("h1",null,"Adventure!")),n.a.createElement(m.b,{to:"/login",className:"col-sm-2 align-items-ccenter"},n.a.createElement("h4",{onClick:this.onClickLogout},"Logout",n.a.createElement(T.b,null))))}}]),a}(o.Component)),N=(a(62),function(e){return n.a.createElement("section",{className:"fill"},n.a.createElement(x,{auth:e.auth}),n.a.createElement("main",{className:"d-flex align-items-center justify-content-center"},e.children))}),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).onClickBtn=function(e){o.props.auth.email?(alert("Welcome back "+o.props.auth.name),o.setState({redirect:!0,redirectTo:"/game"})):(alert("To play you need a character first"),o.setState({redirect:!0,redirectTo:"/login"}))},o.state={redirect:!1,redirectTo:""},o}return Object(l.a)(a,[{key:"render",value:function(){if(A("potentialEmail"),this.state.redirect){var e=this.state.redirectTo||"/";return n.a.createElement(h.a,{to:e})}return n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container"},n.a.createElement("button",{className:"btn btn-danger col-sm-12",onClick:this.onClickBtn},"PLAY")))}}]),a}(o.Component),C=a(13),S=a(1),I=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/,R=/^\w{1,3}@\w{1,3}.\w{1,3}$/,H=/^\s?$/,W=/^([a-zA-Z]){0,}([a-zA-Z])\1{1,}([a-zA-Z]){0,}$/,V=/^(forward|front|ahead|north|backward|back|behind|south|left|west|right|east)$/,B=(a(63),function(e){return e.error&&e.caption?n.a.createElement("fieldset",null,n.a.createElement("legend",{className:"main-color"},e.caption),n.a.createElement("br",null),n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}}),n.a.createElement("br",null),n.a.createElement("br",null),e.error?n.a.createElement("span",{className:"center orange font-weight-bold"},e.error):null):e.error&&!e.caption?n.a.createElement("fieldset",null,n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}}),n.a.createElement("br",null),n.a.createElement("br",null),e.error?n.a.createElement("span",{className:"center orange font-weight-bold"},e.error):null):!e.error&&e.caption?n.a.createElement("fieldset",null,n.a.createElement("legend",{className:"main-color"},e.caption),n.a.createElement("br",null),n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}})):n.a.createElement("fieldset",null,n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}}))}),q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).validate=function(e){var t={},a=[],o=e;return void 0!==o&&(I.test(o)&&!H.test(o)||a.push("Please type an email with a correct format"),t=Object.assign({},t,{emailError:a})),t},o.onChangeText=function(e){var t,a=e.currentTarget,n=a.name,r=a.value,s=o.validate(r);o.state.emailError.length&&o.setState(Object(S.a)(Object(S.a)({},o.state),{},(t={},Object(C.a)(t,n,r),Object(C.a)(t,"emailError",""),t)));o.setState(Object(S.a)(Object(S.a)({},o.state),{},Object(C.a)({},n,r),s))},o.onClickBtn=function(e){e.preventDefault(),e.stopPropagation();var t=o.state.email,a=o.validate(t);if(o.state.emailError.length||""===t)o.setState(Object(S.a)(Object(S.a)({},o.state),a));else if(R.test(o.state.email)||"test@test.test"===o.state.email||"test@test.com"===o.state.email||"demo@demo.demo"===o.state.email||"demo@demo.com"===o.state.email)alert("Please use a reasonable email address");else if("easter@egg.com"===o.state.email)alert("Easter Egg found! Congratulations!");else{var n=o.state.email;b.get("/api/user/myUser/".concat(n)).then((function(e){var t=e.data;null===t||void 0===t?(alert("The user doesn't exist. Redirecting toward creating a new user"),o.setState(Object(S.a)(Object(S.a)({},o.state),{},{redirect:!0,redirectTo:"/new"}),(function(){E("potentialEmail",o.state.email)}))):t.userActive?o.props.login&&(o.props.login(t.userName,t.userEmail),o.setState(Object(S.a)(Object(S.a)({},o.state),{},{redirect:!0,redirectTo:"/"}))):alert("Your user has been deactivated. Have a great day")})).catch((function(e){console.log(e)}))}},o.state={email:"",emailError:[],redirect:!1,redirectTo:""},o}return Object(l.a)(a,[{key:"render",value:function(){if(A("potentialEmail"),this.state.redirect){var e=this.state.redirectTo||"/";return n.a.createElement(h.a,{to:e})}return n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container"},n.a.createElement(B,{type:"text",className:"form-control bg-transparent text-white",caption:"Email",placeholder:"Enter your email",name:"email",error:this.state.emailError,value:this.state.email,onChange:this.onChangeText}),n.a.createElement("button",{className:"col-sm-12 btn-secondary",onClick:this.onClickBtn},"Log In")))}}]),a}(o.Component),U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).validate=function(e){var t={},a=[],o=e;return void 0!==o&&((!W.test(o)||H.test(o)||o.length<=1)&&a.push("Please type a real name longer than a letter"),t=Object.assign({},t,{nameError:a})),t},o.onChangeText=function(e){var t=e.currentTarget,a=t.name,n=t.value,r=o.validate(n);o.setState(Object(S.a)(Object(S.a)({},o.state),{},Object(C.a)({},a,n),r))},o.onClickBtn=function(e){var t=o.state.name,a=o.validate(t);if(o.state.nameError.length||""===t)alert("Please type a real name longer than a letter"),o.setState(Object(S.a)(Object(S.a)({},o.state),a));else if(w("potentialEmail")){var n=w("potentialEmail");b.get("/api/user/myUser/".concat(n)).then((function(e){e.data?alert("A user already exists with that email. Please don't tamper with the settings"):b.post("api/user/new",{name:o.state.name,email:n}).then((function(e){e.data;alert("Your character has been created. Let's start this story..."),o.setState({redirect:!0,redirectTo:"/game"})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}else alert("You got no email address for your new character... Redirecting to assignin one"),o.setState({redirect:!0,redirectTo:"/login"})},o.state={name:"",nameError:[],redirect:!1,redirectTo:"/"},o}return Object(l.a)(a,[{key:"render",value:function(){if(this.state.redirect){var e=this.state.redirectTo||"/";return n.a.createElement(h.a,{to:e})}return n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container"},n.a.createElement(B,{type:"text",className:"form-control bg-transparent text-white",caption:"Name",placeholder:"Enter your character's name",name:"name",error:this.state.nameError,value:this.state.name,onChange:this.onChangeText}),n.a.createElement("button",{className:"col-sm-12 btn-secondary",onClick:this.onClickBtn},"Start Game!")))}}]),a}(o.Component),Y=(a(64),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).onChangeText=function(e){var t=e.currentTarget,a=t.name,n=t.value;o.setState(Object(S.a)(Object(S.a)({},o.state),{},Object(C.a)({},a,n)))},o.addAndSetState=function(){var e=w("email")||"AAAAA";v.put("/api/user/addCommand",{email:e,commands:o.state.allText}),o.setState({command:""},(function(){var e=document.getElementById("aside");e.scrollTop=e.scrollHeight})),o.componentDidMount()},o.getHit=function(e){var t=o.state.user;o.setState({user:Object(S.a)(Object(S.a)({},t),{},{userRealHealth:e})},(function(){v.put("/api/user/getHit",{userN:o.state.name,health:e}).then((function(e){e.data;o.addAndSetState()})).catch((function(e){console.log(e)}))}))},o.hitEnemy=function(e){v.put("/api/user/hitEnemy",{userN:o.state.name,roomN:o.state.room.roomName,newHP:e}).then((function(e){e.data;o.addAndSetState()})).catch((function(e){console.log(e)}))},o.killEnemy=function(){var e=o.state.room;o.setState({room:Object(S.a)(Object(S.a)({},e),{},{roomEnemyAlive:!1})},(function(){v.put("/api/user/killedEnemy",{userN:o.state.name,roomN:o.state.room.roomName}).then((function(e){e.data;v.get("/api/user/allChestRoom").then((function(e){for(var t=e.data,a=0;a<t.length;a++)t[a].roomID===o.state.user.userCurrentRoom&&function(){var e=t[a].chest.objectName;v.put("/api/user/addChestToRoom",{uName:o.state.name,currentRName:o.state.room.roomName,chest:t[a].chest}).then((function(t){t.data;o.state.allText.push('As the enemy vanishes into thin air, a chest appears out of nowhere.\n                                            The chest has an inscription that says "'.concat(e,"\".\n                                            With the chest being closed, you'll need to open it to reveal its contents")),o.addAndSetState()})).catch((function(e){console.log(e)}))}()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}))},o.directionAttack=function(e,t){var a={objectName:"",objectType:"",objectValue:0,objectWeight:0};a="left"===e?o.state.user.userLeftEquip:o.state.user.userRightEquip;var n=o.state.room.roomEnemy,r=o.state.user,s=o.state.room;o.state.allText.push("You attacked with a ".concat(a.objectName,", dealing ").concat(r.userAtk+a.objectValue," damage"));var c=t-(r.userAtk+a.objectValue);return o.hitEnemy(c),o.setState({room:Object(S.a)(Object(S.a)({},s),{},{roomEnemyHealth:c})},(function(){c<=0&&(o.state.allText.push("".concat(n.enemyName," died...")),o.killEnemy())})),c},o.enemyAttack=function(e){var t={objectName:"",objectType:"",objectValue:0,objectWeight:0};t="left"===e?o.state.user.userLeftEquip:o.state.user.userRightEquip;var a=o.state.room.roomEnemy,n=o.state.user,r=0;r=t.objectValue>=a.enemyATK+a.enemyWeapon.objectValue?0:t.objectValue-(a.enemyATK+a.enemyWeapon.objectValue),o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n        dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage, but with your ").concat(t.objectName,",\n        you reduced the damage to ").concat(r));var s=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);return o.getHit(s),!(n.userRealHealth<=0)},o.attackSequence=function(){var e=o.state.user.userLeftEquip,t=o.state.user.userRightEquip,a=o.state.room.roomEnemy,n=o.state.user,r=o.state.room;if("ATK"===e.objectType)if("ATK"===t.objectType)if(e.objectWeight<=a.enemyWeapon.objectWeight)if(e.objectWeight+t.objectWeight<=a.enemyWeapon.objectWeight){o.state.allText.push("You attacked with the ".concat(e.objectName," followed by ").concat(t.objectName,",\n                        making a total of ").concat(n.userAtk*(e.objectValue+t.objectValue)));var s=r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue);if(o.hitEnemy(s),r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue)>0){o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                            dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var c=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);o.getHit(c)}else o.state.allText.push("".concat(a.enemyName," died...")),o.killEnemy()}else{var l=o.directionAttack("left",o.state.room.roomEnemyHealth);if(l>0){o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                            dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var i=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);o.getHit(i),n.userRealHealth>0&&o.directionAttack("right",l)}}else if(t.objectWeight<=a.enemyWeapon.objectWeight){var u=o.directionAttack("right",o.state.room.roomEnemyHealth);if(u>0){o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                        dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var m=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);o.getHit(m),n.userRealHealth>0&&o.directionAttack("left",u)}}else{o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                    dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var h=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);if(o.getHit(h),n.userRealHealth>0){o.state.allText.push("You attacked with the ".concat(e.objectName," followed by ").concat(t.objectName,",\n                        making a total of ").concat(n.userAtk*(e.objectValue+t.objectValue)));var d=r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue);o.hitEnemy(d),r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue)<=0&&(o.state.allText.push("".concat(a.enemyName," died...")),o.killEnemy())}}else t.objectWeight+e.objectWeight<=a.enemyWeapon.objectWeight?o.directionAttack("left",o.state.room.roomEnemyHealth)>0&&o.enemyAttack("right"):o.enemyAttack("right")&&o.directionAttack("left",o.state.room.roomEnemyHealth);else"ATK"===t.objectType?t.objectWeight+e.objectWeight<=a.enemyWeapon.objectWeight?o.directionAttack("right",o.state.room.roomEnemyHealth)>0&&o.enemyAttack("left"):o.enemyAttack("left")&&o.directionAttack("right",o.state.room.roomEnemyHealth):o.state.allText.push("You have nothing to attack with, try equipping a useful weapon");o.addAndSetState()},o.checkIfKey=function(e){if(("door"===e[2]||"doors"===e[2])&&"open"===e[0]){for(var t=e[1].charAt(0).toUpperCase()+e[1].slice(1)+" Key",a=0;a<o.state.user.userInventory.length;a++)if(o.state.user.userInventory[a].objectName===t)return!0;return!1}},o.changeRoom=function(e){v.put("/api/user/changeRoom",{uName:o.state.name,roomID:e}).then((function(e){e.data;o.addAndSetState()})).catch((function(e){console.log(e)}))},o.mainGameCode=function(){o.state.allText.push(o.state.command);var e=o.state.command.toLowerCase().split(" "),t=[];e.forEach((function(e){""!==e&&t.push(e)}));var a="",n="";1!==t.length&&(void 0!==t[2]?(a=t[1]+" "+t[2],n=t[1].charAt(0).toUpperCase()+t[1].slice(1)+" "+t[2].charAt(0).toUpperCase()+t[2].slice(1)):(a=t[1],n=t[1].charAt(0).toUpperCase()+t[1].slice(1)));var r=!1,s="AAAAAAAAAA",c=!1;if("equip"===t[0]&&(4===t.length?("left"!==t[1]&&"left-hand"!==t[1]||(s="left",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"right"!==t[1]&&"right-hand"!==t[1]||(s="right",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"left"!==t[3]&&"left-hand"!==t[3]||(s="left"),"right"!==t[3]&&"right-hand"!==t[3]||(s="right")):5===t.length?("left"===t[1]&&"hand"===t[2]&&(s="left",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"right"===t[1]&&"hand"===t[2]&&(s="right",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"left"===t[3]&&"hand"===t[4]&&(s="left"),"right"===t[3]&&"hand"===t[4]&&(s="right")):(o.state.allText.push('The correct way to equip an object is:\n                "equip" followed by the object and finally the direction of the hand you want to equip it (left or right)'),c=!0)),"unequip"===t[0]&&(2===t.length?("left"!==t[1]&&"left-hand"!==t[1]||(s="left"),"right"!==t[1]&&"right-hand"!==t[1]||(s="right")):3===t.length?("left"===t[1]&&"hand"===t[2]&&(s="left",a="",n=""),"right"===t[1]&&"hand"===t[2]&&(s="right",a="",n="")):4===t.length?("left"!==t[1]&&"left-hand"!==t[1]||(s="left",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"right"!==t[1]&&"right-hand"!==t[1]||(s="right",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"left"!==t[3]&&"left-hand"!==t[3]||(s="left"),"right"!==t[3]&&"right-hand"!==t[3]||(s="right")):5===t.length?("left"===t[1]&&"hand"===t[2]&&(s="left",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"right"===t[1]&&"hand"===t[2]&&(s="right",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"left"===t[3]&&"hand"===t[4]&&(s="left"),"right"===t[3]&&"hand"===t[4]&&(s="right")):(o.state.allText.push('The correct way to unequip an object is:\n                "unequip" followed by the object and finally the direction of the hand you want to unequip it (left or right)'),c=!0)),"help"!==t[0]&&"hint"!==t[0]||1!==t.length)if("exit"!==t[0]&&"close"!==t[0]||1!==t.length)if("eat"===t[0])o.state.allText.push('Rather than eating a questionable item, I implore you to "use" it. For your (and my) health.');else if("inventory"===t[0]){for(var l=[],i=0;i<o.state.user.userInventory.length;i++)l.push(o.state.user.userInventory[i].objectName);o.state.allText.push("Your current inventory is: ".concat(l))}else if("status"===t[0])o.state.allText.push("Your current health is: ".concat(o.state.user.userRealHealth,"/").concat(o.state.user.userBaseHealth,".\n            In your left hand a(an): ").concat(o.state.user.userLeftEquip.objectName,". In your right hand you have a(an): ").concat(o.state.user.userRightEquip.objectName));else if("look"===t[0]||"observe"===t[0]){for(var u=[],m=0;m<o.state.room.roomObjectsInv.length;m++)u.push(o.state.room.roomObjectsInv[m].objectName);0===u.length?o.state.allText.push("".concat(o.state.room.roomLook)):o.state.allText.push("".concat(o.state.room.roomLook,". In the room you can find: ").concat(u))}else if(("attack"===t[0]||"kill"===t[0]||"damage"===t[0]||"hit"===t[0])&&t.length>1)o.state.allText.push('If you wish to attack, just type "'.concat(t[0],"\", the complicated maths of what to use \n            and whom to attack have been figured out by me, your conscience. (No need to praise, but some recognition isn't bad at all)."));else if("attack"===t[0]||"kill"===t[0]||"damage"===t[0]||"hit"===t[0])o.state.room.roomEnemyAlive?o.attackSequence():o.state.allText.push("If there is no battle, there no need to ".concat(t[0]," anything"));else if("thanks"===t[0]&&1===t.length||"thank"===t[0]&&"you"===t[1]&&2===t.length)o.state.allText.push("You're welcome. I'm glad to help. Also, its really gratifying to hear a compliment");else if("restart"===t[0]||"reset"===t[0]||"suicide"===t[0]||"kill"===t[0]&&"me"===t[1])o.state.allText.push("After thinking all of what you've been through, you decide its no longer worth it,\n            which means... you'll take your own life. As your conscience, I fear nothing, since I know a little secret. \n            But remember, it's a secret to everybody (And now I'm talking to you, player)(and yes, breaking forth wall, bla bla)\n            The little secret is that this world is constructed so that each time ".concat(o.state.name," dies, \n            ").concat(o.state.name," comes back alive. So please, enjoy replaying the adventure once more")),o.getHit(-7);else if(1===t.length)o.state.allText.push("You can't possibly think to \"".concat(t[0],'" without a something or a somewhere,\n            so please, after every verb, please choose an object to interact with'));else if("close"===t[0])o.state.allText.push("There is no benefit in closing something, so why try and close it? Just... leave it as it is.");else if(("move"===t[0]||"go"===t[0])&&t.length>2)o.state.allText.push("If you want to try and move an object, please use pull or push, its more specific");else if("open"===t[0]&&2===t.length)o.state.allText.push("There may be more than 1 object with that generic name, please be more specific with the object you interact with");else if("verb"===t[0]&&"list"===t[1]&&2===t.length){for(var h=[],d=0;d<o.state.allV.length;d++)h.push(" "+o.state.allV[d].name);o.state.allText.push("All the actions you could possibly perform are the following: ".concat(h,'. \n            If you want an in-depth explanation of each one, type "help" followed by the verb you want more info about'))}else if("move"===t[0]||"go"===t[0]){var p="";"forward"===t[1]||"front"===t[1]||"ahead"===t[1]||"north"===t[1]?o.state.room.roomForwardBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):o.state.room.roomForward.toString().length>25?o.state.allText.push("".concat(o.state.room.roomForward)):(p=o.state.room.roomForward,o.changeRoom(p)):o.state.allText.push("Your path is blocked. Find a way get where you want"):"backward"===t[1]||"back"===t[1]||"behind"===t[1]||"south"===t[1]?o.state.room.roomBackwardBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):o.state.room.roomBackward.toString().length>25?o.state.allText.push("".concat(o.state.room.roomBackward)):(p=o.state.room.roomBackward,o.changeRoom(p)):o.state.allText.push("Your path is blocked. Find a way get where you want"):"left"===t[1]||"west"===t[1]?o.state.room.roomLeftBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):o.state.room.roomLeft.toString().length>25?o.state.allText.push("".concat(o.state.room.roomLeft)):(p=o.state.room.roomLeft,o.changeRoom(p)):o.state.allText.push("Your path is blocked. Find a way get where you want"):"east"===t[1]||"right"===t[1]?(o.state.room.roomRightBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):o.state.room.roomRight.toString().length>25?o.state.allText.push("".concat(o.state.room.roomRight)):(p=o.state.room.roomRight,o.changeRoom(p)):o.state.allText.push("Your path is blocked. Find a way get where you want"),o.addAndSetState()):(o.state.allText.push('That is not a valid way to move. Please type a valid "move" command'),o.addAndSetState())}else c||v.get("api/user/allVerbs").then((function(e){for(var c=e.data,l=0;l<c.length;l++)if(t[0]===c[l].name){for(var i="object"+c[l].associateVerb.charAt(0).toUpperCase()+c[l].associateVerb.slice(1),u=0;u<c.length;u++)a===c[u].name&&"help"===c[l].associateVerb&&(o.state.allText.push(c[u].objectHelp),o.addAndSetState(),r=!0);for(var m=0;m<o.state.room.roomObjectsEnv.length;m++)if(o.state.room.roomObjectsEnv[m].objectName===n)for(var h=0;h<Object.entries(o.state.room.roomObjectsEnv[m]).length;h++)if(Object.entries(o.state.room.roomObjectsEnv[m])[h][0]===i)for(var d=0;d<Object.entries(o.state.room.roomObjectsEnv[m]).length;d++)Object.entries(o.state.room.roomObjectsEnv[m])[d][0]===i+"Bool"&&(Object.entries(o.state.room.roomObjectsEnv[m])[d][1]||o.checkIfKey(t)?function(){var e="",a="";"open"===t[0]&&(a="".concat(Object.entries(o.state.room.roomObjectsEnv[m])[h][1]),"door"!==t[2]&&"doors"!==t[2]&&"Door"!==t[2]&&"doors"!==t[2]||(e="/api/user/openDoor",a="You opened the ".concat(n)),"chest"!==t[2]&&"Chest"!==t[2]||(e="/api/user/openChest")),""!==e&&(v.put(e,{roomID:o.state.user.userCurrentRoom,uName:o.state.name,objectN:n,InvObjs:o.state.user.userInventory}).then((function(e){var t=e.data;o.state.allText.push(a),t.more&&o.state.allText.push(t.more),o.addAndSetState()})).catch((function(e){console.log(e)})),r=!0)}():(o.state.allText.push("".concat(Object.entries(o.state.room.roomObjectsEnv[m])[h][1])),r=!0,o.addAndSetState()));for(var p=!1,g=0;g<o.state.allInventory.length;g++)o.state.allInventory[g].objectName===n&&(p=!0);p&&function(){var e=[],a="";if("objectGrab"===i)e=o.state.room.roomObjectsInv,a="/api/user/grab";else if("objectUse"===i&&"key"===t[2])a="/api/user/useKey",e=o.state.user.userInventory;else if("objectUse"===i||"objectEat"===i)a="/api/user/useHealingItem",e=o.state.user.userInventory;else if("objectDrop"!==i&&"objectEquip"!==i&&"objectUnequip"!==i)e=o.state.user.userInventory;else{for(var u=0;u<o.state.room.roomObjectsInv.length;u++)e.push(o.state.room.roomObjectsInv[u]);for(var m=0;m<o.state.user.userInventory.length;m++)e.push(o.state.user.userInventory[m])}for(var h=function(c){if(e[c].objectName===n)for(var l=function(l){if(Object.entries(e[c])[l][0]===i){var u=e[c];"objectDrop"===i&&(a="/api/user/drop"),"objectEquip"===i&&(a="/api/user/equip"),"objectUnequip"===i&&(a="/api/user/unequip",u=n),""===a||r||(v.put("".concat(a),{object:u,currentRName:o.state.room.roomName,currentRID:o.state.user.userCurrentRoom,uName:o.state.name,InvObjs:e,leftE:o.state.user.userLeftEquip.objectName,rightE:o.state.user.userRightEquip.objectName,dir:s,realH:o.state.user.userRealHealth,baseH:o.state.user.userBaseHealth,doorP:t[1].charAt(0).toUpperCase()+t[1].slice(1)}).then((function(t){var a=t.data;(void 0!==a.msg||a.length>0)&&o.state.allText.push("".concat(a.msg)),a.msg&&""!==a.msg&&0!==a.length||o.state.allText.push(Object.entries(e[c])[l][1]),a.more&&o.state.allText.push("".concat(a.more)),o.setState({msg:""},(function(){o.addAndSetState()}))})).catch((function(e){console.log(e)})),r=!0),r||(o.addAndSetState(),r=!0)}},u=0;u<Object.entries(e[c]).length;u++)l(u)},d=0;d<e.length;d++)h(d);r||(o.state.allText.push("There's no ".concat(n," available to ").concat(c[l].associateVerb)),o.addAndSetState(),r=!0)}()}r||(o.state.allText.push("You can't possibly think to \"".concat(t[0],'" ').concat(n)),o.addAndSetState())})).catch((function(e){console.log(e)}));else o.state.allText.push("Your progress is automatically saved every command you make.\n            If you want to exit, just press Logout or Adventure at the top of your screen");else o.state.room.roomEnemyAlive?o.state.allText.push('You\'re in a battle! Its his life or yours. Don\'t be reckless, if you die, I die as well.\n                You can equip some items from your inventory to fight. Once you decide to attack, just type "attack". As a famous\n                general once said: "Good luck".'):o.state.allText.push('Help is on its way. You have various ways of interacting with the world around you.\n                Just as you just used the verb "help", you can use other verbs to make this world change.\n                For instance, if you want to move, you type "move" and a direction. \n                If you want to grab something, type "grab" followed by the object you want to try and grab.\n                If you want to get more knowledge of other verbs, type "help" followed by the verb you want to know more about.\n                If you want to look at your surroundings, type "look".\n                In the spirit of encouraging exploration, try different verbs and see their effects!...\n                But... If you want a list of all verbs available, type "verb list"');r||o.addAndSetState()},o.onClickBtn=function(e){""!==o.state.command&&o.mainGameCode()},o.onKeyPress=function(e){13===e.keyCode&&""!==o.state.command&&o.mainGameCode()},o.state={command:"",name:w("name")||"AAAAA",allText:[],user:{_id:"",userCurrentRoom:"",userInventory:[],userLeftEquip:{objectName:"",objectType:"",objectValue:0,objectWeight:0},userRightEquip:{objectName:"",objectType:"",objectValue:0,objectWeight:0},userBaseHealth:0,userRealHealth:0,userAtk:0},room:{roomName:"",roomEnter:"",roomEnterEnemy:"",roomLook:"",roomLeft:"",roomRight:"",roomForward:"",roomBackward:"",roomObjectsInv:[],roomObjectsEnv:[],roomEnemy:{enemyName:"",enemyATK:0,enemyWeapon:{objectName:"",objectType:"",objectValue:0,objectWeight:0},enemyDesc:""},roomEnemyHealth:1,roomEnemyAlive:!1,roomLeftBool:!1,roomRightBool:!1,roomForwardBool:!1,roomBackwardBool:!1},allInventory:[],allV:[],msg:""},o}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("AAAAA"===this.state.name)return alert("An error has ocurred. Please log in again"),n.a.createElement(h.a,{to:"/login"});var t=w("email")||"AAAAA";v.get("/api/user/myUser/".concat(t)).then((function(t){var a=t.data;e.setState({user:a,msg:"",allText:a.userCommands},(function(){e.state.user.userRealHealth<=0?(alert("You died. Restarting from the beginning..."),v.put("/api/user/death",{name:e.state.name}).then((function(t){var a=t.data;alert(a.msg),e.componentDidMount()})).catch((function(e){console.log(e)}))):v.get("/api/user/currentRoom/".concat(e.state.user._id,"/").concat(e.state.user.userCurrentRoom)).then((function(t){var a=t.data,o=document.getElementById("aside");o.scrollTop=o.scrollHeight,e.setState({room:a},(function(){var t=e.state.allText[e.state.allText.length-1].split(" ");V.test(t[1])&&(e.state.room.roomEnemyAlive?(e.state.allText.push("".concat(e.state.room.roomEnterEnemy)),e.addAndSetState()):(e.state.allText.push("".concat(e.state.room.roomEnter)),e.addAndSetState()))}))})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)})),v.get("/api/user/allInvObjects").then((function(t){var a=t.data;e.setState({allInventory:a})})).catch((function(e){console.log(e)})),v.get("api/user/allVerbs").then((function(t){var a=t.data;e.setState({allV:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=0;return e=null!==this.state.allText?this.state.allText.map((function(e){return t++,n.a.createElement("p",{key:t},e)})):n.a.createElement("p",{key:"0"},"Empty"),n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container d-flex flex-column align-items-center justify-content-center"},n.a.createElement("aside",{className:"bg-secondary",id:"aside"},e),"\xa0",n.a.createElement("div",{className:"container d-flex flex-row"},n.a.createElement(B,{type:"text",className:"form-control bg-secondary text-white",placeholder:"Enter your command",name:"command",value:this.state.command,onChange:this.onChangeText,keyDown:this.onKeyPress}),n.a.createElement("button",{className:"btn btn-success",onClick:this.onClickBtn},n.a.createElement(T.c,null)))))}}]),a}(o.Component)),K=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).login=function(e,t){var a=e,n=t;o.setState({username:a,useremail:n}),E("name",a),E("email",n)},o.logout=function(){o.setState({username:"",useremail:""}),A("name"),A("email")},o.state={username:w("name")||"",useremail:w("email")||""},o}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t={email:this.state.useremail,name:this.state.username,logout:this.logout};return n.a.createElement(m.a,null,n.a.createElement(h.d,null,n.a.createElement(h.b,{render:function(e){return n.a.createElement(O,Object.assign({},e,{auth:t}))},path:"/",exact:!0}),n.a.createElement(h.b,{render:function(a){return n.a.createElement(q,Object.assign({},a,{auth:t,login:e.login}))},path:"/login",exact:!0}),n.a.createElement(h.b,{render:function(e){return n.a.createElement(U,Object.assign({},e,{auth:t}))},path:"/new",exact:!0}),n.a.createElement(k,{component:Y,path:"/game",auth:t})))}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.21912855.chunk.js.map