(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(32),c=a.n(r),s=(a(39),a(9)),l=a(10),i=a(12),u=a(11),m=a(8),h=a(2),d=a(19),p=a.n(d),f=a(4),g=(Object(f.a)(),p.a.create());g.defaults.headers.common["cache-control"]="no-cache",g.defaults.headers.post["Content-Type"]="no-cache",g.defaults.headers.put["Content-Type"]="no-cache";var b=g,y=p.a.create();y.defaults.headers.common["cache-control"]="no-cache",y.defaults.headers.post["Content-Type"]="no-cache",y.defaults.headers.put["Content-Type"]="no-cache";var j=y,v=function(){try{return localStorage.setItem("b","b"),localStorage.removeItem("b"),!0}catch(e){return!1}},E=function(e,t){return!!v()&&(localStorage.setItem(e,t),!0)},A=function(e){return v()?localStorage.getItem(e):null},w=function(e){return!!v()&&(localStorage.removeItem(e),!0)},k=function(e){return""!==e.auth.email||""!==e.auth.name?n.a.createElement(h.b,{render:function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.a.createElement(e.component,Object.assign({},a,{auth:e.auth}))},path:e.path,exact:!0}):n.a.createElement(h.a,{to:"/login"})},T=a(16),x=(a(17),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).onClickLogout=function(){o.props.auth.logout&&o.props.auth.logout()},o.state={},o}return Object(l.a)(a,[{key:"render",value:function(){return""===this.props.auth.email?n.a.createElement("header",{className:"d-flex bg-dark align-items-center"},n.a.createElement(m.b,{to:"/",className:"col-sm-11 p-2 text-danger"},n.a.createElement("h1",null,"Adventure!")),n.a.createElement(m.b,{to:"/login",className:"col-sm-1 align-items-ccenter"},n.a.createElement("h4",null,"Login",n.a.createElement(T.a,null)))):n.a.createElement("header",{className:"d-flex bg-dark align-items-center"},n.a.createElement(m.b,{to:"/",className:"col-sm-10 p-2 text-danger"},n.a.createElement("h1",null,"Adventure!")),n.a.createElement(m.b,{to:"/login",className:"col-sm-2 align-items-ccenter"},n.a.createElement("h4",{onClick:this.onClickLogout},"Logout",n.a.createElement(T.b,null))))}}]),a}(o.Component)),N=(a(62),function(e){return n.a.createElement("section",{className:"fill"},n.a.createElement(x,{auth:e.auth}),n.a.createElement("main",{className:"d-flex align-items-center justify-content-center"},e.children))}),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).onClickBtn=function(e){o.props.auth.email?(alert("Welcome back "+o.props.auth.name),o.setState({redirect:!0,redirectTo:"/game"})):(alert("To play you need a character first"),o.setState({redirect:!0,redirectTo:"/login"}))},o.state={redirect:!1,redirectTo:""},o}return Object(l.a)(a,[{key:"render",value:function(){if(w("potentialEmail"),this.state.redirect){var e=this.state.redirectTo||"/";return n.a.createElement(h.a,{to:e})}return n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container"},n.a.createElement("button",{className:"btn btn-danger col-sm-12",onClick:this.onClickBtn},"PLAY")))}}]),a}(o.Component),C=a(13),S=a(1),I=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/,R=/^\w{1,3}@\w{1,3}.\w{1,3}$/,W=/^\s?$/,V=/^([a-zA-Z]){0,}([a-zA-Z])\1{1,}([a-zA-Z]){0,}$/,H=/^move (forward|ahead|north|backward|behind|south|left|west|right|east)$/,D=(a(63),function(e){return e.error&&e.caption?n.a.createElement("fieldset",null,n.a.createElement("legend",{className:"main-color"},e.caption),n.a.createElement("br",null),n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}}),n.a.createElement("br",null),n.a.createElement("br",null),e.error?n.a.createElement("span",{className:"center orange font-weight-bold"},e.error):null):e.error&&!e.caption?n.a.createElement("fieldset",null,n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}}),n.a.createElement("br",null),n.a.createElement("br",null),e.error?n.a.createElement("span",{className:"center orange font-weight-bold"},e.error):null):!e.error&&e.caption?n.a.createElement("fieldset",null,n.a.createElement("legend",{className:"main-color"},e.caption),n.a.createElement("br",null),n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}})):n.a.createElement("fieldset",null,n.a.createElement("input",{type:e.type||"text",name:e.name,id:e.name,value:e.value,className:e.error?e.className+" error":e.className,onChange:e.onChange||function(e){return!1},placeholder:e.placeholder,onKeyDown:e.keyDown||function(e){return!1}}))}),q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).validate=function(e){var t={},a=[],o=e;return void 0!==o&&(I.test(o)&&!W.test(o)||a.push("Please type an email with a correct format"),t=Object.assign({},t,{emailError:a})),t},o.onChangeText=function(e){var t,a=e.currentTarget,n=a.name,r=a.value,c=o.validate(r);o.state.emailError.length&&o.setState(Object(S.a)(Object(S.a)({},o.state),{},(t={},Object(C.a)(t,n,r),Object(C.a)(t,"emailError",""),t)));o.setState(Object(S.a)(Object(S.a)({},o.state),{},Object(C.a)({},n,r),c))},o.onClickBtn=function(e){e.preventDefault(),e.stopPropagation();var t=o.state.email,a=o.validate(t);if(o.state.emailError.length||""===t)o.setState(Object(S.a)(Object(S.a)({},o.state),a));else if(R.test(o.state.email)||"test@test.test"===o.state.email||"test@test.com"===o.state.email||"demo@demo.demo"===o.state.email||"demo@demo.com"===o.state.email)alert("Please use a reasonable email address");else if("easter@egg.com"===o.state.email)alert("Easter Egg found! Congratulations!");else{var n=o.state.email;b.get("/api/user/myUser/".concat(n)).then((function(e){var t=e.data;null===t||void 0===t?(alert("The user doesn't exist. Redirecting toward creating a new user"),o.setState(Object(S.a)(Object(S.a)({},o.state),{},{redirect:!0,redirectTo:"/new"}),(function(){E("potentialEmail",o.state.email)}))):t.userActive?o.props.login&&(o.props.login(t.userName,t.userEmail),o.setState(Object(S.a)(Object(S.a)({},o.state),{},{redirect:!0,redirectTo:"/"}))):alert("Your user has been deactivated. Have a great day")})).catch((function(e){console.log(e)}))}},o.state={email:"",emailError:[],redirect:!1,redirectTo:""},o}return Object(l.a)(a,[{key:"render",value:function(){if(w("potentialEmail"),this.state.redirect){var e=this.state.redirectTo||"/";return n.a.createElement(h.a,{to:e})}return n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container"},n.a.createElement(D,{type:"text",className:"form-control bg-transparent text-white",caption:"Email",placeholder:"Enter your email",name:"email",error:this.state.emailError,value:this.state.email,onChange:this.onChangeText}),n.a.createElement("button",{className:"col-sm-12 btn-secondary",onClick:this.onClickBtn},"Log In")))}}]),a}(o.Component),B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).validate=function(e){var t={},a=[],o=e;return void 0!==o&&((!V.test(o)||W.test(o)||o.length<=1)&&a.push("Please type a real name longer than a letter"),t=Object.assign({},t,{nameError:a})),t},o.onChangeText=function(e){var t=e.currentTarget,a=t.name,n=t.value,r=o.validate(n);console.log(o.state),o.setState(Object(S.a)(Object(S.a)({},o.state),{},Object(C.a)({},a,n),r))},o.onClickBtn=function(e){var t=o.state.name,a=o.validate(t);if(o.state.nameError.length||""===t)alert("Please type a real name longer than a letter"),o.setState(Object(S.a)(Object(S.a)({},o.state),a));else if(A("potentialEmail")){var n=A("potentialEmail");b.get("/api/user/myUser/".concat(n)).then((function(e){e.data?alert("A user already exists with that email. Please don't tamper with the settings"):b.post("api/user/new",{name:o.state.name,email:n}).then((function(e){e.data;alert("Your character has been created. Let's start this story..."),o.setState({redirect:!0,redirectTo:"/game"})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}else alert("You got no email address for your new character... Redirecting to assignin one"),o.setState({redirect:!0,redirectTo:"/login"})},o.state={name:"",nameError:[],redirect:!1,redirectTo:"/"},o}return Object(l.a)(a,[{key:"render",value:function(){if(this.state.redirect){var e=this.state.redirectTo||"/";return n.a.createElement(h.a,{to:e})}return n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container"},n.a.createElement(D,{type:"text",className:"form-control bg-transparent text-white",caption:"Name",placeholder:"Enter your character's name",name:"name",error:this.state.nameError,value:this.state.name,onChange:this.onChangeText}),n.a.createElement("button",{className:"col-sm-12 btn-secondary",onClick:this.onClickBtn},"Start Game!")))}}]),a}(o.Component),U=(a(64),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).onChangeText=function(e){var t=e.currentTarget,a=t.name,n=t.value;o.setState(Object(S.a)(Object(S.a)({},o.state),{},Object(C.a)({},a,n)))},o.addAndSetState=function(){var e=A("email")||"AAAAA";j.put("/api/user/addCommand",{email:e,commands:o.state.allText}),o.setState({command:""},(function(){var e=document.getElementById("aside");e.scrollTop=e.scrollHeight}))},o.getHit=function(e){var t=o.state.user;o.setState({user:Object(S.a)(Object(S.a)({},t),{},{userRealHealth:e})},(function(){j.put("/api/user/getHit",{userN:o.state.name,health:e}).then((function(e){e.data;o.addAndSetState(),o.componentDidMount()})).catch((function(e){console.log(e)}))}))},o.hitEnemy=function(e){var t=o.state.room;o.setState({room:Object(S.a)(Object(S.a)({},t),{},{roomEnemyHealth:e})},(function(){j.put("/api/user/hitEnemy",{userN:o.state.name,roomN:o.state.room.roomName,newHP:e}).then((function(e){e.data;o.addAndSetState(),o.componentDidMount()})).catch((function(e){console.log(e)}))}))},o.killEnemy=function(){var e=o.state.room;o.setState({room:Object(S.a)(Object(S.a)({},e),{},{roomEnemyAlive:!1})},(function(){j.put("/api/user/killedEnemy",{userN:o.state.name,roomN:o.state.room.roomName}).then((function(e){e.data;o.componentDidMount(),j.get("/api/user/allChestRoom").then((function(e){for(var t=e.data,a=0;a<t.length;a++)t[a].roomID===o.state.user.userCurrentRoom&&function(){var e=t[a].chest.objectName;j.put("/api/user/addChestToRoom",{uName:o.state.name,currentRName:o.state.room.roomName,chest:t[a].chest}).then((function(t){t.data;o.state.allText.push('As the enemy vanishes into thin air, a chest appears out of nowhere.\n                                            The chest has an inscription that says "'.concat(e,'"')),o.addAndSetState(),o.componentDidMount()})).catch((function(e){console.log(e)}))}()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}))},o.directionAttack=function(e){var t={objectName:"",objectType:"",objectValue:0,objectWeight:0},a=o.state.user.userLeftEquip,n=o.state.user.userRightEquip;t="left"===e?o.state.user.userLeftEquip:o.state.user.userRightEquip;var r=o.state.room.roomEnemy,c=o.state.user,s=o.state.room;o.state.allText.push("You attacked with the ".concat(t.objectName,", dealing ").concat(c.userAtk+t.objectValue," damage"));var l=s.roomEnemyHealth-(c.userAtk+t.objectValue);return o.hitEnemy(l),!(s.roomEnemyHealth-c.userAtk*(a.objectValue+n.objectValue)<=0)||(o.state.allText.push("".concat(r.enemyName," died")),o.killEnemy(),!1)},o.enemyAttack=function(e){var t=o.state.room,a=o.state.user.userLeftEquip,n=o.state.user.userRightEquip,r={objectName:"",objectType:"",objectValue:0,objectWeight:0};r="left"===e?o.state.user.userLeftEquip:o.state.user.userRightEquip;var c=o.state.room.roomEnemy,s=o.state.user,l=0;l=r.objectValue>=c.enemyATK+c.enemyWeapon.objectValue?0:r.objectValue-(c.enemyATK+c.enemyWeapon.objectValue),o.state.allText.push("".concat(c.enemyName," attacked with ").concat(c.enemyWeapon.objectName,", \n        dealing ").concat(c.enemyATK+c.enemyWeapon.objectValue," damage, but with your ").concat(r.objectName,",\n        you reduced the damage to ").concat(l));var i=t.roomEnemyHealth-(s.userAtk+a.objectValue+n.objectValue);return o.hitEnemy(i),!(s.userRealHealth<=0)},o.attackSequence=function(){var e=o.state.user.userLeftEquip,t=o.state.user.userRightEquip,a=o.state.room.roomEnemy,n=o.state.user,r=o.state.room;if("ATK"===e.objectType)if("ATK"===t.objectType)if(e.objectWeight<=a.enemyWeapon.objectWeight){if(e.objectWeight+t.objectWeight<=a.enemyWeapon.objectWeight){o.state.allText.push("You attacked with the ".concat(e.objectName," followed by ").concat(t.objectName,",\n                        making a total of ").concat(n.userAtk*(e.objectValue+t.objectValue)));var c=r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue);if(o.hitEnemy(c),r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue)>0){o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                            dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var s=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);o.getHit(s)}else o.state.allText.push("".concat(a.enemyName," died")),o.killEnemy()}else if(o.directionAttack("left")){o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                            dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var l=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);o.getHit(l),n.userRealHealth>0&&o.directionAttack("right")}}else if(t.objectWeight<=a.enemyWeapon.objectWeight){if(o.directionAttack("right")){o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                        dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var i=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);o.getHit(i),n.userRealHealth>0&&o.directionAttack("left")}}else{o.state.allText.push("".concat(a.enemyName," attacked with ").concat(a.enemyWeapon.objectName,", \n                    dealing ").concat(a.enemyATK+a.enemyWeapon.objectValue," damage"));var u=n.userRealHealth-(a.enemyATK+a.enemyWeapon.objectValue);if(o.getHit(u),n.userRealHealth>0){o.state.allText.push("You attacked with the ".concat(e.objectName," followed by ").concat(t.objectName,",\n                        making a total of ").concat(n.userAtk*(e.objectValue+t.objectValue)));var m=r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue);o.hitEnemy(m),r.roomEnemyHealth-n.userAtk*(e.objectValue+t.objectValue)<=0&&(o.state.allText.push("".concat(a.enemyName," died")),o.killEnemy())}}else t.objectWeight+e.objectWeight<=a.enemyWeapon.objectWeight?o.directionAttack("left")&&o.enemyAttack("right"):o.enemyAttack("right")&&o.directionAttack("left");else"ATK"===t.objectType?t.objectWeight+e.objectWeight<=a.enemyWeapon.objectWeight?o.directionAttack("right")&&o.enemyAttack("left"):o.enemyAttack("left")&&o.directionAttack("right"):o.state.allText.push("You have nothing to attack with, try equipping a useful weapon");o.addAndSetState(),o.componentDidMount(),console.log(o.state)},o.checkIfKey=function(e){if("door"===e[2]||"doors"===e[2]||"Door"===e[2]||"Doors"===e[2]){var t=e[1].charAt(0).toUpperCase()+e[1].slice(1)+" Key";return j.get("/api/user/getAllObjectsInv/".concat(t)).then((function(e){return null!==e.data})).catch((function(e){return console.log(e),!1})),!1}return!1},o.changeRoom=function(e){j.put("/api/user/changeRoom",{uName:o.state.name,roomID:e}).then((function(e){e.data;o.addAndSetState(),o.componentDidMount(),o.render()})).catch((function(e){console.log(e)}))},o.mainGameCode=function(){o.state.allText.push(o.state.command);var e=o.state.command.toLowerCase().split(" "),t=[];e.forEach((function(e){""!==e&&t.push(e)}));var a="",n="";1!==t.length&&(void 0!==t[2]?(a=t[1]+" "+t[2],n=t[1].charAt(0).toUpperCase()+t[1].slice(1)+" "+t[2].charAt(0).toUpperCase()+t[2].slice(1)):(a=t[1],n=t[1].charAt(0).toUpperCase()+t[1].slice(1)));var r=!1,c="AAAAAAAAAA",s=!1;if("equip"===t[0]&&(4===t.length?("left"!==t[1]&&"left-hand"!==t[1]||(c="left",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"right"!==t[1]&&"right-hand"!==t[1]||(c="right",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"left"!==t[3]&&"left-hand"!==t[3]||(c="left"),"right"!==t[3]&&"right-hand"!==t[3]||(c="right")):5===t.length?("left"===t[1]&&"hand"===t[2]&&(c="left",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"right"===t[1]&&"hand"===t[2]&&(c="right",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"left"===t[3]&&"hand"===t[4]&&(c="left"),"right"===t[3]&&"hand"===t[4]&&(c="right")):(o.state.allText.push('The correct way to equip an object is:\n                "equip" followed by the object and finally the direction of the hand you want to equip it (left or right)'),s=!0)),"unequip"===t[0]&&(2===t.length?("left"!==t[1]&&"left-hand"!==t[1]||(c="left"),"right"!==t[1]&&"right-hand"!==t[1]||(c="right")):3===t.length?("left"===t[1]&&"hand"===t[2]&&(c="left",a="",n=""),"right"===t[1]&&"hand"===t[2]&&(c="right",a="",n="")):4===t.length?("left"!==t[1]&&"left-hand"!==t[1]||(c="left",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"right"!==t[1]&&"right-hand"!==t[1]||(c="right",a=t[2]+" "+t[3],n=t[2].charAt(0).toUpperCase()+t[2].slice(1)+" "+t[3].charAt(0).toUpperCase()+t[3].slice(1)),"left"!==t[3]&&"left-hand"!==t[3]||(c="left"),"right"!==t[3]&&"right-hand"!==t[3]||(c="right")):5===t.length?("left"===t[1]&&"hand"===t[2]&&(c="left",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"right"===t[1]&&"hand"===t[2]&&(c="right",a=t[3]+" "+t[4],n=t[3].charAt(0).toUpperCase()+t[3].slice(1)+" "+t[4].charAt(0).toUpperCase()+t[4].slice(1)),"left"===t[3]&&"hand"===t[4]&&(c="left"),"right"===t[3]&&"hand"===t[4]&&(c="right")):(o.state.allText.push('The correct way to unequip an object is:\n                "unequip" followed by the object and finally the direction of the hand you want to unequip it (left or right)'),s=!0)),"help"!==t[0]&&"hint"!==t[0]||1!==t.length)if("exit"===t[0])o.state.allText.push("Your progress is automatically saved every command you make.\n            If you want to exit, just press Logout or Adventure at the top of your screen");else if("close"===t[0])o.state.allText.push("There is no benefit in closing something, so why try and close it? Just... leave it as it is.");else if("eat"===t[0])o.state.allText.push('Rather than eating a questionable item, I implore you to "use" it. For your (and my) health.');else if("inventory"===t[0]){for(var l=[],i=0;i<o.state.user.userInventory.length;i++)l.push(o.state.user.userInventory[i].objectName);o.state.allText.push("Your current inventory is: ".concat(l))}else if("status"===t[0])o.state.allText.push("Your current health is: ".concat(o.state.user.userRealHealth,"/").concat(o.state.user.userBaseHealth,".\n            In your left hand a(an): ").concat(o.state.user.userLeftEquip.objectName,". In your right hand you have a(an): ").concat(o.state.user.userRightEquip.objectName));else if("look"===t[0]||"observe"===t[0]){for(var u=[],m=0;m<o.state.room.roomObjectsInv.length;m++)u.push(o.state.room.roomObjectsInv[m].objectName);0===u.length?o.state.allText.push("".concat(o.state.room.roomLook)):o.state.allText.push("".concat(o.state.room.roomLook,". In the room you can find: ").concat(u))}else if("attack"===t[0]&&t.length>1)o.state.allText.push('If you wish to attack, just type "attack", the complicated maths of what to use \n            and whom to attack have been figured out by me, your conscience. (No need to praise, but some recognition isn\'t bad at all).');else if("attack"===t[0])o.state.room.roomEnemyAlive?o.attackSequence():o.state.allText.push("If there is no battle, there no need to attack");else if(1===t.length)o.state.allText.push("You can't possibly think to \"".concat(t[0],'" without a something or a somewhere,\n            so please, after every verb, please choose an object to interact with'));else if("move"===t[0]&&t.length>2)o.state.allText.push("If you want to try and move an object, please use pull or push, its more specific");else if("open"===t[0]&&2===t.length)o.state.allText.push("There may be more than 1 object with that generic name, please be more specific with the object you interact with");else if("move"===t[0]){var h="";"forward"===t[1]||"ahead"===t[1]||"north"===t[1]?(o.state.room.roomForward.toString().length>25?o.state.allText.push("".concat(o.state.room.roomForward)):o.state.room.roomForwardBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):(h=o.state.room.roomForward,o.changeRoom(h)):o.state.allText.push("Your path is blocked. Find a way get where you want"),o.addAndSetState(),o.componentDidMount()):"backward"===t[1]||"behind"===t[1]||"south"===t[1]?(o.state.room.roomBackward.toString().length>25?o.state.allText.push("".concat(o.state.room.roomBackward)):o.state.room.roomBackwardBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):(h=o.state.room.roomBackward,o.changeRoom(h)):o.state.allText.push("Your path is blocked. Find a way get where you want"),o.addAndSetState(),o.componentDidMount()):"left"===t[1]||"west"===t[1]?(o.state.room.roomLeft.toString().length>25?o.state.allText.push("".concat(o.state.room.roomLeft)):o.state.room.roomLeftBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):(h=o.state.room.roomLeft,o.changeRoom(h)):o.state.allText.push("Your path is blocked. Find a way get where you want"),o.addAndSetState(),o.componentDidMount()):"east"===t[1]||"right"===t[1]?(o.state.room.roomRight.toString().length>25?o.state.allText.push("".concat(o.state.room.roomRight)):o.state.room.roomRightBool?o.state.room.roomEnemyAlive?o.state.allText.push("You can't run away from a battle"):(h=o.state.room.roomRight,o.changeRoom(h)):o.state.allText.push("Your path is blocked. Find a way get where you want"),o.addAndSetState(),o.componentDidMount()):o.state.allText.push('That is not a valid way to move. Please type a valid "move" command'),o.addAndSetState(),o.componentDidMount()}else s||j.get("api/user/allVerbs").then((function(e){for(var s=e.data,l=0;l<s.length;l++)if(t[0]===s[l].name){for(var i="object"+s[l].associateVerb.charAt(0).toUpperCase()+s[l].associateVerb.slice(1),u=0;u<s.length;u++)a===s[u].name&&"help"===s[l].associateVerb&&(o.state.allText.push(s[u].objectHelp),o.addAndSetState(),r=!0);for(var m=0;m<o.state.room.roomObjectsEnv.length;m++)if(o.state.room.roomObjectsEnv[m].objectName===n){for(var h=0;h<Object.entries(o.state.room.roomObjectsEnv[m]).length;h++)if(Object.entries(o.state.room.roomObjectsEnv[m])[h][0]===i){for(var d=0;d<Object.entries(o.state.room.roomObjectsEnv[m]).length;d++)if(Object.entries(o.state.room.roomObjectsEnv[m])[d][0]===i+"Bool"){if(!Object.entries(o.state.room.roomObjectsEnv[m])[d][1]&&!o.checkIfKey(t)){o.state.allText.push("".concat(Object.entries(o.state.room.roomObjectsEnv[m])[h][1])),o.addAndSetState(),r=!0,o.componentDidMount();break}if("break"===function(){var e="",a="";if("open"===t[0]&&(a="".concat(Object.entries(o.state.room.roomObjectsEnv[m])[h][1]),"door"!==t[2]&&"doors"!==t[2]&&"Door"!==t[2]&&"doors"!==t[2]||(e="/api/user/openDoor",a="You opened the ".concat(n)),"chest"!==t[2]&&"Chest"!==t[2]||(e="/api/user/openChest")),""!==e)return j.put(e,{roomID:o.state.user.userCurrentRoom,uName:o.state.name,objectN:n}).then((function(e){var t=e.data;o.state.allText.push(a),t.more&&o.state.allText.push(t.more),o.addAndSetState(),o.componentDidMount()})).catch((function(e){console.log(e)})),r=!0,"break"}())break}if(r)break}if(r)break}for(var p=!1,f=0;f<o.state.allInventory.length;f++)o.state.allInventory[f]===n&&(p=!0);if(p){var g=[],b="";if("objectGrab"===i)g=o.state.room.roomObjectsInv,b="/api/user/grab";else if("objectUse"===i||"objectEat"===i)b="/api/user/useHealingItem",g=o.state.user.userInventory;else if("objectDrop"!==i&&"objectEquip"!==i&&"objectUnequip"!==i)g=o.state.user.userInventory;else{for(var y=0;y<o.state.room.roomObjectsInv.length;y++)g.push(o.state.room.roomObjectsInv[y]);for(var v=0;v<o.state.user.userInventory.length;v++)g.push(o.state.user.userInventory[v])}for(var E=0;E<g.length;E++)if(g[E].objectName===n)for(var A=0;A<Object.entries(g[E]).length;A++)if(Object.entries(g[E])[A][0]===i){var w=g[E];if("objectDrop"===i&&(b="/api/user/drop"),"objectEquip"===i&&(b="/api/user/equip"),"objectUnequip"===i&&(b="/api/user/unequip",w=n),""!==b&&j.put("".concat(b),{object:w,currentRName:o.state.room.roomName,uName:o.state.name,InvObjs:g,leftE:o.state.user.userLeftEquip.objectName,rightE:o.state.user.userRightEquip.objectName,dir:c,realH:o.state.user.userRealHealth,baseH:o.state.user.userBaseHealth}).then((function(e){var t=e.data;t.msg&&o.setState({msg:t.msg},(function(){o.componentDidMount()}))})).catch((function(e){console.log(e)})),!r){""!==o.state.msg?o.state.allText.push("".concat(o.state.msg)):o.state.allText.push(Object.entries(g[E])[A][1]),o.addAndSetState(),r=!0,o.componentDidMount();break}}r||(o.state.allText.push("There's no ".concat(n," available to ").concat(s[l].associateVerb)),o.addAndSetState(),r=!0)}}r||(o.state.allText.push("You can't possibly think to \"".concat(t[0],'" ').concat(n)),o.addAndSetState())})).catch((function(e){console.log(e)}));else o.state.room.roomEnemyAlive?o.state.allText.push('You\'re in a battle! Its his life or yours. Don\'t be reckless, if you die, I die as well.\n                You can equip some items from your inventory to fight. Once you decide to attack, just type "attack". As a famous\n                general once said: "Good luck".'):o.state.allText.push('Help is on its way. You have various ways of interacting with the world around you.\n                Just as you just used the verb "help", you can use other verbs to make this world change.\n                For instance, if you want to move, you type "move" and a direction. \n                If you want to grab something, type "grab" followed by the object you want to try and grab.\n                If you want to get more knowledge of other verbs, type "help" followed by the verb you want to know more about.\n                If you want to look at your surroundings, type "look".\n                In the spirit of encouraging exploration, try different verbs and see their effects!');r||o.addAndSetState()},o.onClickBtn=function(e){""!==o.state.command&&o.mainGameCode()},o.onKeyPress=function(e){13===e.keyCode&&""!==o.state.command&&o.mainGameCode()},o.state={command:"",name:A("name")||"AAAAA",allText:[],user:{_id:"",userCurrentRoom:"",userInventory:[],userLeftEquip:{objectName:"",objectType:"",objectValue:0,objectWeight:0},userRightEquip:{objectName:"",objectType:"",objectValue:0,objectWeight:0},userBaseHealth:0,userRealHealth:0,userAtk:0},room:{roomName:"",roomEnter:"",roomEnterEnemy:"",roomLook:"",roomLeft:"",roomRight:"",roomForward:"",roomBackward:"",roomObjectsInv:[],roomObjectsEnv:[],roomEnemy:{enemyName:"",enemyATK:0,enemyWeapon:{objectName:"",objectType:"",objectValue:0,objectWeight:0},enemyDesc:""},roomEnemyHealth:1,roomEnemyAlive:!1,roomLeftBool:!1,roomRightBool:!1,roomForwardBool:!1,roomBackwardBool:!1},allInventory:[],msg:""},o}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=A("email")||"AAAAA";j.get("/api/user/myUser/".concat(t)).then((function(t){var a=t.data;e.setState({user:a,msg:"",allText:a.userCommands},(function(){0===e.state.user.userRealHealth?(alert("You died. Restarting from the beginning..."),j.put("/api/user/death",{name:e.state.name}).then((function(e){var t=e.data;alert(t.msg)})).catch((function(e){console.log(e)}))):j.get("/api/user/currentRoom/".concat(e.state.user._id,"/").concat(e.state.user.userCurrentRoom)).then((function(t){var a=t.data,o=document.getElementById("aside");o.scrollTop=o.scrollHeight,e.setState({room:a},(function(){H.test(e.state.allText[e.state.allText.length-1])&&(e.state.room.roomEnemyAlive?(e.state.allText.push("".concat(e.state.room.roomEnterEnemy)),e.addAndSetState()):(e.state.allText.push("".concat(e.state.room.roomEnter)),e.addAndSetState()))}))})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=0;return e=null!==this.state.allText?this.state.allText.map((function(e){return t++,n.a.createElement("p",{key:t},e)})):n.a.createElement("p",{key:"0"},"Empty"),n.a.createElement(N,{auth:this.props.auth},n.a.createElement("div",{className:"container d-flex flex-column align-items-center justify-content-center"},n.a.createElement("aside",{className:"bg-secondary",id:"aside"},e),"\xa0",n.a.createElement("div",{className:"container d-flex flex-row"},n.a.createElement(D,{type:"text",className:"form-control bg-transparent text-white",placeholder:"Enter your command",name:"command",value:this.state.command,onChange:this.onChangeText,keyDown:this.onKeyPress}),n.a.createElement("button",{className:"btn btn-success",onClick:this.onClickBtn},n.a.createElement(T.c,null)))))}}]),a}(o.Component));U.getDerivedStateFromProps=function(e,t){return"AAAAA"===t.name?(alert("An error has ocurred. Please log in again"),n.a.createElement(h.a,{to:"/login"})):(j.get("/api/user/allInvObjects").then((function(e){for(var a=e.data,o=0;o<a.length;o++)t.allInventory.push(a[o].objectName)})).catch((function(e){console.log(e)})),null)};var L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).login=function(e,t){var a=e,n=t;o.setState({username:a,useremail:n}),E("name",a),E("email",n)},o.logout=function(){o.setState({username:"",useremail:""}),w("name"),w("email")},o.state={username:A("name")||"",useremail:A("email")||""},o}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t={email:this.state.useremail,name:this.state.username,logout:this.logout};return n.a.createElement(m.a,null,n.a.createElement(h.d,null,n.a.createElement(h.b,{render:function(e){return n.a.createElement(O,Object.assign({},e,{auth:t}))},path:"/",exact:!0}),n.a.createElement(h.b,{render:function(a){return n.a.createElement(q,Object.assign({},a,{auth:t,login:e.login}))},path:"/login",exact:!0}),n.a.createElement(h.b,{render:function(e){return n.a.createElement(B,Object.assign({},e,{auth:t}))},path:"/new",exact:!0}),n.a.createElement(k,{component:U,path:"/game",auth:t})))}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.643fce09.chunk.js.map